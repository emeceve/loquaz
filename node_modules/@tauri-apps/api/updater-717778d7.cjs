"use strict";var t=require("./tslib.es6-2b0ec40b.cjs"),n=require("./event-4e893360.cjs");function e(){return t.__awaiter(this,void 0,void 0,(function(){function e(){r&&r(),r=void 0}var r;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){n.listen("tauri://update-status",(function(n){var r;(r=null==n?void 0:n.payload).error?(e(),i(r.error)):"DONE"===r.status&&(e(),t())})).then((function(t){r=t})).catch((function(t){throw e(),t})),n.emit("tauri://update-install").catch((function(t){throw e(),t}))}))]}))}))}function r(){return t.__awaiter(this,void 0,void 0,(function(){function e(){r&&r(),r=void 0}var r;return t.__generator(this,(function(t){return[2,new Promise((function(t,i){n.once("tauri://update-available",(function(n){var r;r=null==n?void 0:n.payload,e(),t({manifest:r,shouldUpdate:!0})})).catch((function(t){throw e(),t})),n.listen("tauri://update-status",(function(n){var r;(r=null==n?void 0:n.payload).error?(e(),i(r.error)):"UPTODATE"===r.status&&(e(),t({shouldUpdate:!1}))})).then((function(t){r=t})).catch((function(t){throw e(),t})),n.emit("tauri://update").catch((function(t){throw e(),t}))}))]}))}))}var i=Object.freeze({__proto__:null,installUpdate:e,checkUpdate:r});exports.checkUpdate=r,exports.installUpdate=e,exports.updater=i;
